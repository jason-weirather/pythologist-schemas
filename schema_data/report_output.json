{
    "$schema": "https://json-schema.org/schema#",
    "type": "object",
    "description":"Define the output report single sample in InForm.",
    "definitions":{
        "sample_density_row":{
            "type":"object",
            "properties":{
                "region_name":{
                    "type":"string"
                },
                "population_name":{
                    "type":"string"
                },
                "cummulative_region_area_pixels":{
                    "type":"integer"
                },
                "cummulative_region_area_mm2":{
                    "type":"numeric"
                },
                "cummulative_count":{
                    "type":"integer"
                },
                "cummulative_density_mm2":{
                    "type":"numeric"
                },
                "mean_density_mm2":{
                    "type":"numeric"
                },
                "stddev_density_mm2":{
                    "type":["numeric","null"]
                },
                "stderr_density_mm2":{
                    "type":["numeric","null"]
                },
                "measured_image_count":{
                    "type":"numeric"
                },
                "image_count":{
                    "type":"numeric"
                }
            }
        },
        "image_density_row":{
            "type":"object",
            "properties":{
                "region_name":{
                    "type":"string"
                },
                "population_name":{
                    "type":"string"
                },
                "region_area_pixels":{
                    "type":"integer"
                },
                "region_area_mm2":{
                    "type":"numeric"
                },
                "count":{
                    "type":"integer"
                },
                "density_mm2":{
                    "type":"numeric"
                },
                "image_name":{
                    "type":"string"
                }
            }
        },
        "sample_percentage_row":{
            "type":"object",
            "properties":{
                "region_name":{
                    "type":"string"
                },
                "population_name":{
                    "type":"string"
                },
                "cummulative_numerator":{
                    "type":"integer"
                },
                "cummulative_denominator":{
                    "type":"integer"
                },
                "cummulative_fraction":{
                    "type":["numeric","null"]
                },
                "cummulative_percent":{
                    "type":["numeric","null"]
                },
                "mean_fraction":{
                    "type":["numeric","null"]
                },
                "stdev_fraction":{
                    "type":["numeric","null"]
                },
                "stderr_fraction":{
                    "type":["numeric","null"]
                },
                "mean_percent":{
                    "type":["numeric","null"]
                },
                "stdev_percent":{
                    "type":["numeric","null"]
                },
                "stderr_percent":{
                    "type":["numeric","null"]
                },
                "image_count":{
                    "type":"integer"
                },
                "measured_image_count":{
                    "type":"integer"
                }
            }
        },
        "image_percentage_row":{
            "type":"object",
            "properties":{
                "region_name":{
                    "type":"string"
                },
                "population_name":{
                    "type":"string"
                },
                "numerator":{
                    "type":"integer"
                },
                "denominator":{
                    "type":"integer"
                },
                "fraction":{
                    "type":["numeric","null"]
                },
                "percent":{
                    "type":["numeric","null"]
                },
                "image_name":{
                    "type":"string"
                }
            }
        }
    },
    "properties":{
        "sample_name":{
            "type":"string"
        },
        "sample_density":{
            "description":"Report for aggrogated measurements within a sample for density.",
            "type":"array",
            "items":{"$ref":"#/definitions/sample_density_row"}
        },
        "image_density":{
            "description":"Report for density in a given image.",
            "type":"array",
            "items":{"$ref":"#/definitions/image_density_row"}
        },
        "sample_percentage":{
            "description":"Report for aggrogated measurements within a sample for percentages.",
            "type":"array",
            "items":{"$ref":"#/definitions/sample_percentage_row"}
        },
        "image_percentage":{
            "description":"Report for measurements within a frame for percentages.",
            "type":"array",
            "items":{"$ref":"#/definitions/image_percentage_row"}
        }
    },
    "additionalProperties":false,
    "required":["sample_name","sample_density","image_density","sample_percentage","image_percentage"]
}
